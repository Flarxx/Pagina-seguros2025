{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Sistema de Seguros{% endblock %}</title>

    <!-- Enlace a tu archivo CSS de Tailwind generado (UNA SOLA VEZ) -->
    <link href="{% static 'css/output.css' %}" rel="stylesheet">

    <!-- CDN de Swiper CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <!-- CDN de HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"
            integrity="sha384-D1Kt99CQGqfP6UZJmgVYg28vEwsKFE9JfRkLOkjXFHLYYsHygB9WsSVi4jw5XpXL"
            crossorigin="anonymous"></script>

    <!-- Extensiones de HTMX útiles -->
    <script src="https://unpkg.com/htmx.org/dist/ext/preload.js"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/response-targets.js"></script>

    {% block head_extra %}{% endblock %}
</head>

<body class="flex flex-col min-h-screen font-sans antialiased text-gray-800">
    <!-- Navbar principal -->
    <header class="bg-white sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex flex-wrap items-center justify-between relative">
            
            <!-- Enlaces de navegación izquierda -->
            <nav class="hidden md:flex flex-row md:space-x-6 text-lg md:text-base font-medium order-2 md:order-1">
                <div class="relative">
                    <button class="block px-3 py-2 text-gray-600 hover:text-green-500 rounded-md transition-colors duration-200 flex items-center text-lg">
                        Nuestras Pólizas
                        <svg class="ml-1 h-4 w-4 transform transition-transform duration-200"
                             fill="none"
                             stroke="currentColor"
                             viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round"
                                  stroke-linejoin="round"
                                  stroke-width="2"
                                  d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                </div>
            </nav>

            <!-- Logo y nombre de la marca -->
            <div class="flex-grow flex justify-center md:flex-grow-0 md:justify-start order-1 md:order-2">
                <a href="{% url 'inicio' %}" class="flex items-center">
                    <img src="{% static 'img/logo.png' %}" alt="Logo Estar Seguros" class="h-40 mr-3">
                </a>
            </div>

            <!-- Botón para menú móvil -->
            <button class="md:hidden p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 order-3"
                    hx-on::click="document.getElementById('mobile-menu').classList.toggle('hidden');">
                <svg class="h-6 w-6 text-gray-600"
                     fill="none"
                     stroke="currentColor"
                     viewBox="0 0 24 24"
                     xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>

            <!-- Navegación móvil -->
            <div class="w-full md:flex md:items-center md:w-auto mt-4 md:mt-0 hidden md:order-3" id="mobile-menu">
                <div class="flex flex-col md:flex-row md:ml-auto mt-4 md:mt-0 space-y-3 md:space-y-0 md:space-x-4"></div>

                <!-- Enlaces de autenticación -->
                <ul class="flex flex-col md:flex-row md:ml-4 mt-4 md:mt-0 space-y-3 md:space-y-0 md:space-x-4">
                    {% if user.is_authenticated %}
                        <li class="nav-item">
                            <span class="block px-3 py-2 text-sm text-gray-600">
                                Bienvenido, {{ user.username }}
                            </span>
                        </li>
                        {% if user.is_staff %}
                            <li class="nav-item">
                                <a class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-md transition-colors duration-200"
                                   href="{% url 'inicio_administrador' %}">
                                   Panel Admin
                                </a>
                            </li>
                        {% endif %}
                        <li class="nav-item">
                            <a class="block px-3 py-2 text-sm text-red-600 hover:bg-red-100 rounded-md transition-colors duration-200"
                               href="{% url 'logout' %}">
                               Cerrar sesión
                            </a>
                        </li>
                    {% else %}
                        <li class="nav-item border-purple-600 border-1 rounded-md">
                            <a class="block px-5 text-lg text-purple-800 rounded-md transition-colors duration-200 font-semibold hover:text-black text-center"
                               href="">
                               Quiero cotizar
                            </a>
                        </li>
                        <li class="nav-item border-[#5e351a] border-1 rounded-md">
                            <a class="block px-5 text-lg text-[#633b20] rounded-md transition-colors duration-200 font-semibold hover:text-black text-center"
                               href="#">
                               Quiero pagar
                            </a>
                        </li>
                        <li class="nav-item border-blue-300 border-1 rounded-md">
                            <a class="block px-3 text-lg text-blue-700 rounded-md transition-colors duration-200 font-bold hover:text-black text-center"
                               href="{% url 'registro' %}">
                               Mi cuenta
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </header>

    <main .classList.toggle="min-h-screen flex flex-col">
        {% block content %}{% endblock %}
    </main>

    {% block scripts_extra %}{% endblock %}
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="{% static 'js/base.js' %}"></script>
    <footer class="bg-white border-t border-gray-200 mt-16">
  <div class="max-w-7xl mx-auto px-6 py-10 text-center md:text-left">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

      <!-- Columna 1 -->
      <div>
        <h3 class="text-xl font-bold text-purple-700 mb-3">Estar Seguros</h3>
        <p class="text-gray-600 text-sm">
          Protegemos lo que más valoras. Pólizas diseñadas para ti y tu familia.
        </p>
      </div>

      <!-- Columna 2 -->
      <div>
        <h3 class="text-lg font-semibold text-gray-700 mb-3">Enlaces útiles</h3>
        <ul class="space-y-2 text-gray-600 text-sm">
          <li><a href="/" class="hover:text-purple-600 transition">Inicio</a></li>
          <li><a href="/registro/" class="hover:text-purple-600 transition">Registro</a></li>
          <li><a href="/login/" class="hover:text-purple-600 transition">Iniciar sesión</a></li>
          <li><a href="/contacto/" class="hover:text-purple-600 transition">Contacto</a></li>
        </ul>
      </div>

      <!-- Columna 3 -->
      <div>
        <h3 class="text-lg font-semibold text-gray-700 mb-3">Contáctanos</h3>
        <p class="text-gray-600 text-sm">Tel: +58 000-0000000</p>
        <p class="text-gray-600 text-sm">Email: info@estarseguros.com</p>
        <div class="flex justify-center md:justify-start space-x-4 mt-3">
          <a href="#" class="text-gray-500 hover:text-purple-600 transition" aria-label="Facebook">
            <i class="fab fa-facebook text-xl"></i>
          </a>
          <a href="#" class="text-gray-500 hover:text-purple-600 transition" aria-label="Instagram">
            <i class="fab fa-instagram text-xl"></i>
          </a>
          <a href="#" class="text-gray-500 hover:text-purple-600 transition" aria-label="Twitter">
            <i class="fab fa-twitter text-xl"></i>
          </a>
        </div>
      </div>

    </div>

    <hr class="my-6 border-gray-300 opacity-40">

    <div class="text-center text-sm text-gray-500">
      © {% now "Y" %} <span class="font-medium text-purple-700">Estar Seguros</span>. Todos los derechos reservados.
    </div>
  </div>
</footer>

</body>
</html>
