{% extends 'polizas/cliente/layout.html' %}

{% block title %}Registrar Pago{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto bg-white rounded-2xl shadow-lg p-8">
    <h2 class="text-3xl font-bold text-purple-700 mb-6 text-center">Registrar Pago</h2>

    <!-- Información de la póliza -->
    <div class="mb-6 bg-purple-50 p-4 rounded-lg border border-purple-200">
        <p class="text-gray-700 mb-1"><strong>Póliza:</strong> {{ poliza.poliza_numero }}</p>
        <p class="text-gray-700 mb-1"><strong>Tipo:</strong> {{ poliza.tipo }}</p>
        {% if poliza.aseguradora %}
            <p class="text-gray-700"><strong>Aseguradora:</strong> {{ poliza.aseguradora.nombre }}</p>
        {% endif %}
    </div>

    <!-- Formulario de pago -->
    <form method="POST" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}
        {{ form.non_field_errors }}

        {% if 'aseguradora' in form.fields %}
        <div>
            <label for="id_aseguradora" class="block text-purple-700 font-semibold mb-2">Aseguradora</label>
            {{ form.aseguradora }}
        </div>
        {% endif %}

        <div>
            <label for="id_monto" class="block text-purple-700 font-semibold mb-2">Monto</label>
            {{ form.monto }}
        </div>

        <div>
            <label for="id_metodo" class="block text-purple-700 font-semibold mb-2">Método de Pago</label>
            {{ form.metodo }}
        </div>

        <div>
            <label for="id_referencia" class="block text-purple-700 font-semibold mb-2">Referencia (opcional)</label>
            {{ form.referencia }}
        </div>

        <div>
            <label for="id_comprobante" class="block text-purple-700 font-semibold mb-2">Comprobante</label>
            {{ form.comprobante }}
        </div>

        <div>
            <label for="id_observaciones" class="block text-purple-700 font-semibold mb-2">Observaciones</label>
            {{ form.observaciones }}
        </div>

        <button type="submit"
            class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition duration-200 shadow-md hover:shadow-lg">
            Registrar Pago
        </button>
    </form>
</div>
{% endblock %}
