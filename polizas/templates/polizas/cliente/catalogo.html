{% extends 'polizas/cliente/layout.html' %}

{% block title %}Catálogo de Pólizas{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold text-gray-700 mb-6">Catálogo de Pólizas</h1>
<p class="text-gray-600 mb-8">
  Aquí puedes ver todos los productos de pólizas disponibles para adquirir.
</p>

{% if cotizaciones %}
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  {% for cotizacion in cotizaciones %}
  <div class="bg-white shadow-md rounded-2xl p-6 flex flex-col justify-between">
    <h2 class="text-xl font-semibold text-gray-700 mb-2">{{ cotizacion.producto.nombre }}</h2>
    <p class="text-gray-600 text-sm mb-1">Tipo: {{ cotizacion.producto.tipo }}</p>
    <p class="text-gray-600 text-sm mb-1">Monto estimado: ${{ cotizacion.monto_estimado }}</p>

    <div class="mt-4 flex space-x-2">
      <a href="{% url 'polizas:adquirir_poliza' %}?producto={{ cotizacion.producto.id }}"
         class="bg-purple-700 text-white py-2 px-4 rounded-lg hover:bg-purple-800 transition text-sm flex-1 text-center">
        Adquirir
      </a>
      <a href="{% url 'polizas:cotizacion_detalle' cotizacion.id %}"
         class="bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition text-sm flex-1 text-center">
        Ver detalle
      </a>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<p class="text-gray-600">No hay productos disponibles aún.</p>
{% endif %}
{% endblock %}
